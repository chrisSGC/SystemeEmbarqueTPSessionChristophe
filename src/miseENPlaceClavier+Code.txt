// Données concernant le clavier

#include <Clavier.h>
#include <Code.h>

Clavier *clavier = NULL;
Code code;

void setup(){
  Serial.begin(9600);
  code = Code();
  clavier = new Clavier();

  Serial.println("KeyProgramm");
}

void loop(){
  char key = clavier->RecupererToucheTapee(); // vas chier erreur de mort

  if (key != NO_KEY){
    Serial.println("!--> Nouvelle touche <--!");
    Serial.println(key);
    
    int leCode = code.EntrerCaractere(key);
    if(1 == leCode){
      Serial.println("<(^-^)> Porte ouverte <(^-^)>");
      
      code.ReinitialiserSaisie();
      Serial.println("System reset");
    }else if(0 == leCode){
      Serial.println("<(x-x)> Porte fermée <(x-x)>");
      
      code.ReinitialiserSaisie();
      Serial.println("System reset");
    }else if(3 == leCode){
      Serial.println("#happy# Code modifié #happy#");
      code.ReinitialiserSaisie();
      Serial.println("System reset");
    }

  }
}